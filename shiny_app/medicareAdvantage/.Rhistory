shiny::runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
install.packages("viridis")
library(viridis)
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
pal <- viridis(n = 10)
pal
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
pal <- colorQuantile(viridis(n=10))
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
shiny::runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
wes_palette("Zissou1", 21, type = "continuous")
runApp('C:/Users/NYCZE/Desktop/Zach-Escalante-Code/shiny_app/medicareAdvantage')
install.packages("wesanderson")
shiny::runApp()
install.packages("readxl")
library(readxl)
getwd()
list.dirs(
)
list.files(./data)
list.files("/data")
list.files("./data")
enrollment_data <- read_excel("./data/enrollment_data.xlsx", sheet = 1)
enrollment_data <- read_excel("./data/enrollment_data.xlsx", sheet = 3)
enrollment_data <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
enrollment_data <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(enrollment_data) <- c("Year", "Month", "County", "OriginalMedicare", "MedAdv&Other", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
enrollment_data
colnames(enrollment_data) <- c("Year", "Month", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
enrollment_data$Year
unique(enrollment_data$Year)
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df$Year
df[ which(df$Year == '2018'),]
df[ which(df$Year == '2018' & df$Month == 'August'),]
install.packages("dplyr")
library(dplyr)
df %>%
filter(Year == '2018')
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
colnames(df)
colnames(df) <- c("Year", "Month", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
colnames(df)
colnames(df) <- c("Year", "Month", "State", County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
colnames(df)
df %>%
filter(Year == '2018')
df %>%
filter(Year == '2018' & State = 'Alabama')
df %>%
filter(Year == '2018' & State == 'Alabama')
df %>%
filter(Year == '2018' & State == 'Alabama') %>%
select(State, OriginalMedicare)
df %>%
filter(Year == '2018' & State == 'Alabama') %>%
select(State, OriginalMedicare) %>%
group_by(State)
df %>%
filter(Year == '2018') %>%
select(State, OriginalMedicare) %>%
group_by(State)
df %>%
filter(Year == '2018') %>%
group_by(State) %>%
summarise(Total = sum(MedicareTotal))
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarise(Total = sum(MedicareTotal))
df %>%
filter(Year == 2018 & Month == 'August') %>%
group_by(State) %>%
summarise(Total = sum(MedicareTotal))
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarise(MedicareTotal = sum(MedicareTotal))
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarise(MedicareTotal = sum(df$MedicareTotal))
sapply(df, class)
df$MedicareTotal
df[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric
)
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df_filtered <- df %>%
filter(County != 'Unknown')
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df <- data.frame(lapply(df, function(x) {
gsub("*", "+", 5)
}))
df
df$OriginalMedicare
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df <- data.frame(lapply(df, function(x) {
gsub("*", 5)
}))
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df %>%
mutate_all(funs(str_replace(., "*", "")))
install.packages("tidyverse")
library(tidyverse)
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df %>%
mutate_all(funs(str_replace(., "*", "")))
df %>%
mutate_all(funs(str_replace_all(., "*", "")))
df %>%
mutate_all(str_replace_all, "*", "")
df %>%
mutate_all(str_replace_all, "*", "5")
df %>%
mutate(OriginalMedicare = str_replace(OriginalMedicare, "*", "5"))
df %>%
mutate(OriginalMedicare = str_replace("*", "5"))
df %>% str_replace_all("*", "5")
df$OriginalMedicare %>% str_replace_all("*", "5")
df$OriginalMedicare %>% str_replace("*", "5")
str_replace(df$OriginalMedicare, "*", "5")
df$OriginalMedicare <- str_replace_all(df$OriginalMedicare, '*', '%')
df$OriginalMedicare <- str_replace_all(df$OriginalMedicare, '*', '5')
install.packages("string")
install.packages("stringr")
install.packages("stringr")
library(stringr)
library(dplyr)
library(readxl)
library(tidyverse)
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df$OriginalMedicare <- str_replace_all(df$OriginalMedicare, '*', '5')
as.data.frame(lapply(df, function(y) gsub("*", "5", y)))
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df
as.data.frame(lapply(df, function(y) gsub("*", "5", y)))
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarise(MedicareTotal = sum(df$MedicareTotal))
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarise(MedicareTotal = sum(df$MedicareTotal))
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
as.data.frame(lapply(df, function(y) gsub("~*", "5", y)))
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
gsub("~*", "5", "**2")
gsub("*", "5", "**2")
gsub("*", "5", "2")
gsub("[^0-9]", "", "$%*10")
gsub("[^0-9]", "", "**10")
gsub("[^0-9]", "", "*")
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
as.data.frame(lapply(df, function(y) gsub("[^0-9]", "", y)))
df_clean <- as.data.frame(lapply(df, function(y) gsub("[^0-9]", "", y)))
df_clean$OriginalMedicare
df_clean$OriginalMedicare
df$OriginalMedicare
df_clean$OriginalMedicare
df$OriginalMedicare
df_clean$OriginalMedicare
sum(df_clean$OriginalMedicare
)
sum(df_clean$MedicareTotal)
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df_clean[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
df_filtered
df_filtered$MedicareTotal
df$MedicareTotal
df_filtered$MedicareTotal
df$MedicareTotal
df_filtered$MedicareTotal
df_filtered$MedicareTotal
df_clean$MedicareTotal
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
sapply(df, class)
df_filtered[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")] <- sapply(df[, c("OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")], as.numeric)
df$MedAdvOther
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df$MedAdvOther
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df$MedAdvOther
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df$MedAdvOther
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
df$MedAdvOther
sapply(df, class)
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarise(MedicareTotal = sum(df$MedicareTotal))
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State)
df %>%
filter(Year == '2018' & Month == 'August')
df %>%
filter(Year == '2018' & Month == 'August') %>%
group_by(State) %>%
summarize(sum(MedicareTotal))
df %>%
filter(County == 'TOTAL' & Year = '2018' & Month == 'August')%>%
select(MedicareTotal)
df %>%
filter(County == 'TOTAL' & Year = '2018' & Month == 'August') %>%
select(MedicareTotal)
df[ which(df$County == 'TOTAL'), ]
df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'August') %>%
select(MedicareTotal)
df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'August' & State == 'Alabama') %>%
select(MedicareTotal)
df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October' & State == 'Alabama') %>%
select(MedicareTotal)
df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October') %>%
select(MedicareTotal)
df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October') %>%
select(State, MedicareTotal)
state_total <- df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October') %>%
select(State, MedicareTotal)
state_total
arrange(state_total, MedicareTotal)
tail(arrange(state_total, MedicareTotal), 10)
shiny::runApp()
months()
runApp()
install.packages("wesanderson")
tail(arrange(state_total, MedicareTotal), 10)
tail(arrange(state_total$State, MedicareTotal), 10)
tail(arrange(state_total, MedicareTotal), 10)
head(desc(state_total, MedicareTotal), 10)
state_total <- df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October') %>%
select(State, MedicareTotal) %>%
arrange(desc(MedicareTotal))
state_total
state_total$State
state_total$State[1:10]
state_total$MedicareTotal
head(state_total[, "MedicareTotal", drop = TRUE], n = 10)
runApp()
shiny::runApp()
runApp()
install.packages("wesanderson")
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
state_total <- df %>%
filter(County == 'TOTAL' &
Year == input$year_us & Month == input$month_us) %>%
select(State, input$value) %>%
arrange(desc(input$value))
state_total <- df %>%
filter(County == 'TOTAL' &
Year == "2019" & Month == "January") %>%
select(State, "OriginalMedicare") %>%
arrange(desc("OriginalMedicare"))
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
state_total <- df %>%
filter(County == 'TOTAL' &
Year == "2019" & Month == "January") %>%
select(State, "OriginalMedicare") %>%
arrange(desc("OriginalMedicare"))
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
state_total <- df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October') %>%
select(State, MedicareTotal) %>%
arrange(desc(MedicareTotal))
state_total
df <- read_excel("./data/enrollment_data.xlsx", sheet = 3, skip = 5)
colnames(df) <- c("Year", "Month", "State", "County", "OriginalMedicare", "MedAdvOther", "MedicareTotal",
"PrescriptionDrug", "MedAdvPresDrug", "PresDrugTotal")
state_total <- df %>%
filter(County == 'TOTAL' & Year == '2018' & Month == 'October') %>%
select(State, MedicareTotal) %>%
arrange(desc(MedicareTotal))
state_total
runApp()
