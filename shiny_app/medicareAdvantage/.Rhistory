unique(us.map.county$GEOID)
unique(unique(us.map.county$GEOID))
unique(unique(us.map.county$COUNTYNS))
unique(unique(us.map.county$COUNTYFP))
us.map.county$COUNTYFP == "1001"
sum(us.map.county$COUNTYFP == "1001")
sum(us.map.county$COUNTYFP == "01001")
sum(us.map.county$COUNTYFP == "56045")
us.map.county$COUNTYFP == "56045"
us.map.county$NAME
us.map.county$NAME == "Pawnee"
sum(us.map.county$NAME == "Pawnee")
us.map.county
us.map.county$AFFGEOID
us.map.county$AFFGEOID = "0500000US01001"
#County Shape files
# Read in the county shape files
us.map.county <- readOGR(dsn= './cb_2018_us_county_500k', layer = "cb_2018_us_county_500k", stringsAsFactors = FALSE)
# Remove Alaska(2), Hawaii(15), Puerto Rico (72), Guam (66), Virgin Islands (78), American Samoa (60) Mariana Islands (69), Micronesia (64), Marshall Islands (68), Palau (70), Minor Islands (74)
us.map.county <- us.map.county[!us.map.county$STATEFP %in% c("02", "15", "72", "66", "78", "60", "69","64", "68", "70", "74"),]
us.map.county$AFFGEOID == "0500000US01001"
sum(us.map.county$AFFGEOID == "0500000US01001")
test.df <- merge(us.map.county,
df.population[, c("GEO.id", "est72018sex0_age65to69"), drop = TRUE],
by.x = "AFFGEOID",
by.y = "est72018sex0_age65to69")
test.df
test.df$GEO.id
test.df <- merge(us.map.county,
#df.population[, c("GEO.id", "est72018sex0_age65to69"), drop = TRUE],
df.population,
by.x = "AFFGEOID",
by.y = "est72018sex0_age65to69")
test.df <- merge(us.map.county,
df.population[, c("GEO.id", "est72018sex0_age65to69"), drop = TRUE],
#df.population,
by.x = "AFFGEOID",
by.y = "GEO.id")
test.df$est72018sex0_age65to69
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ])
palette <- colorQuantile("viridis", df.population[, "est72018sex0_age65to69", drop = TRUE], n = 9)
palette <- colorQuantile("viridis", df.population[, as.numeric("est72018sex0_age65to69"), drop = TRUE], n = 9)
palette
test.df <- merge(us.map.county,
df.population[, c("GEO.id", as.numeric("est72018sex0_age65to69")), drop = TRUE],
#df.population,
by.x = "AFFGEOID",
by.y = "GEO.id")
test.df <- merge(us.map.county,
df.population[, c("GEO.id", "est72018sex0_age65to69"), drop = TRUE],
#df.population,
by.x = "AFFGEOID",
by.y = "GEO.id")
test.df$est72018sex0_age65to69
transform(df.population, est72018sex0_age65to69 = as.numeric(as.factor(est72018sex0_age65to69)))
df.population$est72018sex0_age65to69
transform(df.population, est72018sex0_age65to69 = as.numeric(as.character(est72018sex0_age65to69)))
df.population$est72018sex0_age65to69
transform(df.population, "est72018sex0_age65to69" = as.numeric(as.character("est72018sex0_age65to69")))
df.population$est72018sex0_age65to69
df.population$est72018sex0_age65to69
df.population <- read_csv("./data/PEP_2018_PEPAGESEX_with_ann.csv")
df.population$est72018sex0_age65to69
typeof(df.population$est72018sex0_age65to69)
as.numeric(as.factor(df.population$est72018sex0_age65to69))
palette <- colorQuantile("viridis", as.numeric(as.factor(df.population$est72018sex0_age65to69)), n = 9)
palette
df.population$est72018sex0_age65to69 <- as.numeric(as.factor(df.population$est72018sex0_age65to69))
df.population$est72018sex0_age65to69
test.df <- merge(us.map.county,
df.population[, c("GEO.id", "est72018sex0_age65to69"), drop = TRUE],
#df.population,
by.x = "AFFGEOID",
by.y = "GEO.id")
test.df$est72018sex0_age65to69
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal()(test.df@data$est72018sex0_age65to69))
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~palette()(test.df@data$est72018sex0_age65to69))
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = test.df@data$est72018sex0_age65to69)
pal_ <- colorNumeric(
palette = "Blues",
domain = cdf.population$est72018sex0_age65to69)
pal_ <- colorNumeric(
palette = "Blues",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_()(test.df@data$est72018sex0_age65to69))
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = pal_()(test.df@data$est72018sex0_age65to69))
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69))
us.map.county[which(us.map.county$STATEFP == "21"), ]
us.map.county$STATEFP
us.map.county[which(us.map.county$STATEFP == "21"), ]
us.map.county$COUNTYFP[which(us.map.county$STATEFP == "21"), ]
us.map.county$COUNTYFP
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$COUNTYFP == "011"), ],
fillColor = "transparent")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21", us.map.county$COUNTYFP == "011"), ],
fillColor = "transparent")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21", us.map.county$COUNTYFP == "011"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21", us.map.county$COUNTYFP == "015"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county@data$COUNTYFP == "015",
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county@data$COUNTYFP == "015"[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county@data[which(us.map.county$STATEFP == "21", us.map.county$COUNTYFP == "015"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21", us.map.county$COUNTYFP == "015"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69))
us.map.county[which(us.map.county$STATEFP == "21", us.map.county$COUNTYFP == "015"), ]
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "019"), ],
fillColor = "red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "019"), ],
fillColor = "#ce2029")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "023"), ],
fillColor = "#ce2029")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "023"), ],
fillColor = "black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "011"), ],
fillColor = "black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "#FFFFFF")
pal_ <- colorNumeric(
palette = "Reds",
domain = df.population$est72018sex0_age65to69)
pal_ <- colorNumeric(
palette = "Reds",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "Blue")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(us.map.county$STATEFP == "21" & us.map.county$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[,which(test.df$STATEFP == "21" & test.df$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = us.map.county[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "015"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "015"), ],
fillColor = "Blue")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(us.map.county$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "011"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "011"), ],
fillColor = "Black")
pal_ <- colorNumeric(
palette = "Blues",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "011"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP == "011"), ],
fillColor = "Reds")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "Reds")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df@data$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "#FFFFF")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Red") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "#FFFFF")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Red") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Blue") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "Black")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Blue") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Blue") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$COUNTYFP == "21"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Blue") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = "Blue") %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "#de1738")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
pal_ <- colorQuantile(
palette = "viridis",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
pal_ <- colorQuantile(
palette = "Blues",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)
)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69)) %>%
addPolygons(data = test.df[which(test.df$COUNTYFP == "011" & test.df$STATEFP == "21"), ],
fillColor = "Red")
palette <- colorQuantile("magma", as.numeric(as.factor(df.population$est72018sex0_age65to69)), n = 9)
pal_ <- colorQuantile(
palette = "magma",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69))
pal_ <- colorQuantile(
palette = "RdYlBu",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69))
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
pal_ <- colorQuantile(
palette = "RdYlBu",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
pal_ <- colorQuantile(
palette = "viridis",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
pal_ <- colorQuantile(
palette = "OrRd",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
pal_ <- colorQuantile(
palette = "PuRd",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
pal_ <- colorQuantile(
palette = "magma",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
pal_ <- colorQuantile(
palette = "Oranges",
domain = df.population$est72018sex0_age65to69)
leaflet() %>%
addProviderTiles("Esri.WorldGrayCanvas") %>%
addPolygons(data = test.df[which(test.df$STATEFP == "21" & test.df$COUNTYFP != "011"), ],
fillColor = ~pal_(test.df$est72018sex0_age65to69),
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = 0.3)
shiny::runApp()
df.population <- read_csv("./data/PEP_2018_PEPAGESEX_with_ann.csv")
runApp()
test.df$COUNTYNS
us.map.county$LSAD
us.map.county$ALAND
us.map.county$GEOID
runApp()
us.map.county$GEOID
COUNTYFP
runApp()
